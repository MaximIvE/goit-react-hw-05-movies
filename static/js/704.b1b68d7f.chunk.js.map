{"version":3,"file":"static/js/704.b1b68d7f.chunk.js","mappings":"qQAEaA,EAAOC,EAAAA,GAAAA,GAAH,+C,SCWjB,EATiB,SAAC,GAAe,IAAD,IAAbC,KAAAA,OAAa,MAAR,GAAQ,EACtBC,GAAWC,EAAAA,EAAAA,MACXC,EAAOH,EAAKI,KAAI,SAAAC,GAAK,OACvB,yBACG,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAAMC,MAAO,CAACC,KAAMR,GAA/C,SAA2DI,EAAMK,SAD3DL,EAAME,GADQ,IAI3B,OAAO,SAACT,EAAD,UAAOK,GACjB,E,UCTYQ,EAAcZ,EAAAA,GAAAA,IAAH,kFCwCxB,EAnCc,SAAC,GAAa,IAAZa,EAAW,EAAXA,MACZ,GAAwBC,EAAAA,EAAAA,WAAS,iBAAI,EAAJ,IAAjC,eAAOb,EAAP,KAAac,EAAb,KACA,GAA0BD,EAAAA,EAAAA,WAAS,kBAAI,IAAJ,IAAnC,eAAOE,EAAP,KAAcC,EAAd,KACA,GAA8BH,EAAAA,EAAAA,WAAS,kBAAI,CAAJ,IAAvC,eAAOI,EAAP,KAAgBC,EAAhB,KACA,GAAwBL,EAAAA,EAAAA,WAAS,iBAAI,EAAJ,IAAjC,eAAOV,EAAP,KAAagB,EAAb,KAqBA,OAnBAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAW,mCAAG,gGAChBL,EAAS,MACTE,GAAW,GACPI,EAAM,MACPV,EAJa,kCAIMW,EAAAA,EAAAA,IAASX,GAJf,OAINU,EAJM,iDAI0CE,EAAAA,EAAAA,MAJ1C,QAI8BF,EAJ9B,kBAKY,MAAfA,EAAIG,OALD,uBAKwB,IAAIC,MAAJ,UAAcJ,EAAIG,OAAlB,cAA8BH,EAAIK,aAL1D,QAMuB,IAA5BL,EAAItB,KAAK4B,QAAQC,QAAcV,EAAQ,sBAAD,OAAuBP,EAAvB,MACzCM,GAAW,GACXJ,EAAQQ,EAAItB,KAAK4B,SART,kDAWZZ,EAAS,EAAD,IACRE,GAAW,GACXJ,EAAQ,IAbI,kEAAH,qDAebO,GACP,GAAC,CAACT,KAGC,UAACD,EAAD,WACKX,EAAK6B,OAAS,IAAK,SAAC,EAAD,CAAU7B,KAAMA,IACnCiB,IAAW,uCACXF,IAAS,6DACTZ,IAAQ,wBAAKA,MAGzB,C,+GCrCY2B,E,QAAO/B,GAAAA,KAAH,4D,SCEXgC,EAAa,SAAC,GAAe,IAAdC,EAAa,EAAbA,UACjB,GAA0BnB,EAAAA,EAAAA,WAAS,iBAAI,EAAJ,IAAnC,eAAOoB,EAAP,KAAcC,EAAd,KASI,OACI,UAACJ,EAAD,CAAMK,SAPW,SAAAC,GACjBA,EAAEC,iBACFL,EAAUC,GACVC,EAAS,GACZ,EAGG,WACI,kBACII,KAAK,OACLC,MAAON,EACPO,SAAU,SAAAJ,GAAC,OAAEF,EAASE,EAAEK,cAAcF,MAA3B,EACX7B,MAAM,yIACNgC,UAAQ,KAEZ,mBACIJ,KAAK,SACLK,KAAK,WAFT,sBAOf,EAED,GAAeC,EAAAA,EAAAA,MAAKb,G,UCTpB,EAnBe,WACX,OAAwCc,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BlC,EAAAA,EAAAA,UAASiC,EAAaE,IAAI,UAAtD,eAAOC,EAAP,KAAejB,EAAf,KASA,OAPAZ,EAAAA,EAAAA,YAAU,WACNY,EAAUc,EAAaE,IAAI,SAC9B,GAAC,CAACF,KAMC,iCACI,SAAC,EAAD,CAAYd,UAAa,SAAAC,GAAK,OAAIc,EAAgB,CAACd,MAAAA,GAArB,IAC7BgB,IAAU,SAACC,EAAA,EAAD,CAAOtC,MAAOqC,MAGpC,C,mMCnBKE,E,MAAYC,GAAAA,OAAa,CAC3BC,QAAS,gCACTJ,OAAO,CACHK,QAAS,sCAKJ9B,EAAU,mCAAG,8FAAkB2B,EAASH,IAAI,sBAA/B,mFAAH,qDAGVzB,EAAQ,mCAAG,WAAMU,GAAN,iFAAqBkB,EAASH,IAAI,eAAe,CACjEC,OAAO,CACHM,eAAe,EACftB,MAAAA,KAHY,mFAAH,sDAQRuB,EAAS,mCAAG,WAAMC,GAAN,iFAAuBN,EAASH,IAAT,gBAAsBS,IAA7C,mFAAH,sDAGTC,EAAO,mCAAG,WAAMD,GAAN,iFAAuBN,EAASH,IAAT,gBAAsBS,EAAtB,aAAvB,mFAAH,sDAGPE,EAAU,mCAAG,WAAMF,GAAN,iFAAuBN,EAASH,IAAT,gBAAsBS,EAAtB,aAAvB,mFAAH,qD","sources":["components/PostList/PostList.styled.jsx","components/PostList/PostList.jsx","components/Posts/Posts.styled.jsx","components/Posts/Posts.jsx","components/SearchForm/SearchForm.styled.jsx","components/SearchForm/SearchForm.jsx","pages/MoviesPage/MoviesPage.jsx","shared/api/moviesApi.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.ol`\n    font-size: large;\n`;","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { List } from './PostList.styled';\n\nconst PostList = ({data=[]}) => {\n    const location = useLocation();\n    const info = data.map(movie => \n        <li key={movie.id}>\n           <Link to={`/movies/${movie.id}`} state={{from: location}}>{movie.title}</Link> \n        </li>);\n    return <List>{info}</List>\n}\n\nexport default PostList;\n\nPostList.propTypes={\n    data: PropTypes.array.isRequired,\n};","import styled from 'styled-components';\n\nexport const PostsStyled = styled.div`\n    padding: 0 20px 10px 20px;\n    margin-bottom: 20px;\n`;","import { useState, useEffect } from 'react';\n\nimport PostList from 'components/PostList';\nimport { getPopular, getQuery } from '../../shared/api/moviesApi';\nimport PropTypes from 'prop-types';\nimport { PostsStyled } from './Posts.styled';\n\nconst Posts = ({qwery}) => {\n    const [data, setData] = useState(()=>[]);\n    const [error, setError] = useState(()=>null);\n    const [loading, setLoading] = useState(()=>false);\n    const [info, setInfo] = useState(()=>\"\");\n\n    useEffect(()=>{\n        const fetchMovies = async() => {\n        try{setError(null);\n            setLoading(true);\n            let res = null;\n            if(qwery){res = await getQuery(qwery);} else {res = await getPopular();}\n                    if ( res.status !== 200){ throw new Error (`${res.status} | ${res.statusText}`)};\n                    if(res.data.results.length === 0)(setInfo(`No movies found by ${qwery}.`));\n                    setLoading(false);\n                    setData(res.data.results);\n                \n        } catch (error) {\n                setError(error);\n                setLoading(false);\n                setData([]);\n        };};\n            fetchMovies();\n    },[qwery]);\n    \n    return (\n        <PostsStyled>\n            {data.length > 0 && <PostList data={data}/>}\n            {loading && <h2>Loading...</h2>}\n            {error && <h2>Error.  Unable to display movies</h2>}\n            {info && <h3>{info}</h3>}\n        </PostsStyled>\n    )\n}\n\nexport default Posts;\n\nPosts.propTypes={\n    qwery: PropTypes.string,\n};","import styled from 'styled-components';\n\n\nexport const Form = styled.form`\n   \n    padding: 12px 20px;\n    \n`;\n\n","import { useState, memo} from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Form } from './SearchForm.styled';\n\nconst SearchForm = ({setParams})=>{\n    const [query, setQuery] = useState(()=>\"\");\n    \n\n        const handleSubmit = e => {\n            e.preventDefault();\n            setParams(query);\n            setQuery(\"\");\n        };\n\n        return (\n            <Form onSubmit={handleSubmit}>\n                <input\n                    type=\"text\"\n                    value={query}\n                    onChange={e=>setQuery(e.currentTarget.value)}\n                    title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n                    required\n                />\n                <button \n                    type='submit' \n                    name=\"contacts\" \n                    >Search\n                </button>\n            </Form>\n        );\n};\n\nexport default memo(SearchForm);\n\nSearchForm.propTypes={\n    setParams: PropTypes.func.isRequired,\n};","import { useState, useEffect} from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport SearchForm from \"components/SearchForm\";\nimport Posts from \"components/Posts\";\n\nconst Movies = () => {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [params, setParams] = useState(searchParams.get(\"query\"));\n\n    useEffect(()=>{\n        setParams(searchParams.get(\"query\"))\n    },[searchParams])\n    \n\n\n\n    return (\n        <>\n            <SearchForm setParams = {query => setSearchParams({query})}/>\n            {params && <Posts qwery={params} />}\n        </>\n    )\n}\n\nexport default Movies;","import axios from 'axios';\n\n// Екземпляр класу\nconst instance  = axios.create({\n    baseURL: \"https://api.themoviedb.org/3/\",\n    params:{\n        api_key: \"833791a5e754a1f0443be5fc62646bdb\",\n    }\n});\n\n// Популярні за 1 день\nexport const getPopular = async () => await instance.get('trending/movie/day');\n\n// Пошук фільму ключовим словом &language=en-US&page=1&include_adult=false\nexport const getQuery = async query => await instance.get('search/movie',{\n        params:{\n            include_adult: false,\n            query,\n        }\n    });\n\n// Запит повної інформації про фільм &language=en-US\nexport const getDetals = async movieId => await instance.get(`movie/${movieId}`);\n\n// запит інформації про акторський склад &language=en-US\nexport const getCast = async movieId => await instance.get(`movie/${movieId}/credits`);\n\n// запит оглядів для сторінки кінофільму &language=en-US&page=1\nexport const getReviews = async movieId => await instance.get(`movie/${movieId}/reviews`);"],"names":["List","styled","data","location","useLocation","info","map","movie","to","id","state","from","title","PostsStyled","qwery","useState","setData","error","setError","loading","setLoading","setInfo","useEffect","fetchMovies","res","getQuery","getPopular","status","Error","statusText","results","length","Form","SearchForm","setParams","query","setQuery","onSubmit","e","preventDefault","type","value","onChange","currentTarget","required","name","memo","useSearchParams","searchParams","setSearchParams","get","params","Posts","instance","axios","baseURL","api_key","include_adult","getDetals","movieId","getCast","getReviews"],"sourceRoot":""}